diff --git ruby-2.3.6 2/common.mk ruby-2.3.6/common.mk
index da4608b..29e35f5 100644
--- ruby-2.3.6 2/common.mk	
+++ ruby-2.3.6/common.mk
@@ -111,6 +111,7 @@ COMMONOBJS    = array.$(OBJEXT) \
 		vm_trace.$(OBJEXT) \
 		thread.$(OBJEXT) \
 		cont.$(OBJEXT) \
+		ext/zlib/zlib.$(OBJEXT) \
 		$(DTRACE_OBJ) \
 		$(BUILTIN_ENCOBJS) \
 		$(BUILTIN_TRANSOBJS) \
diff --git ruby-2.3.6 2/configure ruby-2.3.6/configure
index c38814a..0c9b440 100755
--- ruby-2.3.6 2/configure	
+++ ruby-2.3.6/configure
@@ -2878,6 +2878,8 @@ ac_configure="$SHELL $ac_aux_dir/configure"  # Please don't use this var.
 
 
 
+LIBS="$LIBS -lz"
+
 { # environment section
 
 
diff --git ruby-2.3.6 2/configure.in ruby-2.3.6/configure.in
index 2cd0f27..3214e50 100644
--- ruby-2.3.6 2/configure.in	
+++ ruby-2.3.6/configure.in
@@ -35,6 +35,8 @@ rm() {
 }
 ])])])
 
+LIBS="$LIBS -lz"
+
 { # environment section
 
 AC_ARG_WITH(baseruby,
diff --git ruby-2.3.6 2/inits.c ruby-2.3.6/inits.c
index 6da80bf..fad2bcd 100644
--- ruby-2.3.6 2/inits.c	
+++ ruby-2.3.6/inits.c
@@ -61,5 +61,6 @@ rb_call_inits(void)
     CALL(Complex);
     CALL(version);
     CALL(vm_trace);
+    CALL(zlib);
 }
 #undef CALL
